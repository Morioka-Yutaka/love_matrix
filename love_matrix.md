# Documentation for the `love_matrix` package.
  
----------------------------------------------------------------
 
 *love_matrix* 
  
----------------------------------------------------------------
 
### Version information:
  
- Package: love_matrix
- Version: 0.1.0
- Generated: 2025-08-23T01:02:36
- Author(s): Yutaka Morioka(sasyupi@gmail.com)
- Maintainer(s): Yutaka Morioka(sasyupi@gmail.com)
- License: MIT
- File SHA256: `F*71381502C9CE878FC1129CA24387C4C0536A76846C95664F779F715CBF50148C` for this version
- Content SHA256: `C*C11B1209240805D769247F4971DEE701DAEBF7A8CE27650C747523D71F6D6328` for this version
  
---
 
# The `love_matrix` package, version: `0.1.0`;
  
---
 
love_matrix: A SAS macro toolkit for basic matrix operations (multiply, inverse, determinant, Cholesky, etc.) — works with PROC FCMP, no SAS/IML required.
  
---
 
  
---
 
Required SAS Components: 
  - Base SAS Software
  
---
 
 
--------------------------------------------------------------------
 
*SAS package generated by SAS Package Framework, version `20241207`*
 
--------------------------------------------------------------------
 
# The `love_matrix` package content
The `love_matrix` package consists of the following content:
 
1. [`%matrix_cholesky_decomposition()` macro ](#matrixcholeskydecomposition-macro-1 )
2. [`%matrix_determinant()` macro ](#matrixdeterminant-macro-2 )
3. [`%matrix_identity()` macro ](#matrixidentity-macro-3 )
4. [`%matrix_inverse()` macro ](#matrixinverse-macro-4 )
5. [`%matrix_mult()` macro ](#matrixmult-macro-5 )
6. [`%matrix_transpose()` macro ](#matrixtranspose-macro-6 )
  
 
7. [License note](#license)
  
---
 
## `%matrix_cholesky_decomposition()` macro <a name="matrixcholeskydecomposition-macro-1"></a> ######

Macro Name    : %matrix_cholesky_decomposition

 Purpose       :
   Perform a Cholesky decomposition of a square numeric matrix stored in a SAS dataset.
   The macro computes the lower-triangular matrix L such that A = L*L',
   and also outputs its transpose (L').

 Parameters    :
   dataset=       Input dataset containing the numeric square matrix.
   output_L=      Output dataset for the lower-triangular matrix L.
                  Default = WORK.OUTPUT_L
   output_TL=     Output dataset for the transpose of L (L').
                  Default = WORK.OUTPUT_TL
 Requirements / Notes:
   - Only numeric variables are considered; character variables are ignored.
   - The input matrix must be symmetric and positive definite.
   - If the matrix is not positive definite, CALL CHOL will fail even with validation.
   - The output datasets will contain variables col1, col2, ..., coln.

Example Usage:
  data wk1;
    a=2; b=2; c=3; output;
    a=2; b=4; c=2; output;
    a=3; b=2; c=6; output;
  run;

  %matrix_cholesky_decomposition(dataset=wk1,
                                 output_L=work.Lmat,
                                 output_TL=work.LTmat);

  
---
 
## `%matrix_determinant()` macro <a name="matrixdeterminant-macro-2"></a> ######

Macro Name    : %matrix_determinant

 Purpose       :
   Compute the determinant of a square numeric matrix stored in a SAS dataset,
   using PROC FCMP and the CALL DET routine. Designed for environments
   without SAS/IML.

 Parameters    :
   dataset=         Input dataset representing the numeric matrix.
   output_dataset=  Output dataset to store the determinant as a 1×1 matrix.
                    Default = WORK.OUTPUT_DET


 Requirements / Notes:
   - Only numeric variables are considered; character variables are ignored.
   - The input dataset must represent a square matrix. Otherwise, the macro stops with an error.
   - If the matrix is singular or nearly singular, the determinant may be 0 or numerically unstable.
   - The output dataset will contain a single cell (col1) with the determinant value.

 Example Usage:
   data wk1;
     a=2; b=1; output;
     a=3; b=4; output;
   run;

   %matrix_determinant(dataset=wk1, output_dataset=work.det_wk1);

   proc print data=work.det_wk1;
   run;

  
---
 
## `%matrix_identity()` macro <a name="matrixidentity-macro-3"></a> ######

Macro Name    : %matrix_identity

 Purpose       :
   Generate an identity matrix of a specified size using PROC FCMP.
   The macro creates an array, calls the IDENTITY routine, and writes
   the resulting matrix into a SAS dataset.

 Parameters    :
   size=            Dimension of the identity matrix (default = 5).
                    Must be a positive integer. The result will be size × size.
   output_dataset=  Output dataset name to store the identity matrix.
                    Default = WORK.OUTPUT_IDENTITY.

 Processing Flow:
   1. Define a square array of dimension size × size.
   2. Use CALL IDENTITY to populate the array with an identity matrix
      (1's on the diagonal, 0's elsewhere).
   3. Write the array into the specified output dataset.

 Requirements / Notes:
   - Requires PROC FCMP (no SAS/IML dependency).
   - The output dataset will contain variables col1, col2, ..., coln.
   - Very large values of SIZE may exceed available memory.

 Example Usage:
   %matrix_identity(size=3, output_dataset=work.id3);

   proc print data=work.id3;
   run;


  
---
 
## `%matrix_inverse()` macro <a name="matrixinverse-macro-4"></a> ######

Macro Name    : %matrix_inverse

Purpose       :
  Compute the inverse of a square numeric matrix stored in a SAS dataset,
  using PROC FCMP and the CALL INV routine. Designed for environments
  without SAS/IML.

Parameters    :
  dataset=         Input dataset containing the numeric matrix to be inverted.
  output_dataset=  Output dataset that will contain the inverse matrix.
                   Default = WORK.OUTPUT_INV

Requirements / Notes:
  - Only numeric variables are considered; character variables are dropped.
  - The input dataset must represent a square matrix (same number of rows and columns).
  - If the matrix is singular or nearly singular, CALL INV will fail or return
    unstable results. No pseudo-inverse is computed in this macro.
  - The output dataset will contain variables named col1, col2, ..., col3.

Example Usage:
  data wk1;
    a=3; b=5; c=0; output;
    a=9; b=1; c=2; output;
    a=8; b=7; c=9; output;
  run;

  %matrix_inverse(dataset=wk1, output_dataset=inv_wk1);

  
---
 
## `%matrix_mult()` macro <a name="matrixmult-macro-5"></a> ######

Macro Name    : %matrix_mult
 
 Purpose       :
   Perform matrix multiplication between two input SAS datasets containing 
   only numeric variables. The macro extracts numeric columns, validates 
   dimensions, and outputs the resulting product matrix as a SAS dataset.

 Parameters    :
   dataset1=        Input dataset representing the left matrix (observations × variables).
   dataset2=        Input dataset representing the right matrix (observations × variables).
   output_dataset=  Output dataset name where the resulting matrix will be written.
                    Default = WORK.OUTPUT_M

 Requirements  :
   - Both input datasets must contain only numeric variables or will be 
     reduced to numeric variables internally.
   - The number of numeric columns in dataset1 must equal the number of rows 
     in dataset2 (matrix multiplication rule).
   - Uses PROC FCMP and the CALL MULT routine for matrix multiplication.

 Outputs       :
   - A SAS dataset with dimension (nobs1 × nvars2) containing the 
     matrix product.

 Example Usage :
   data wk1;
     a=1; b=2; c=4; output;
     a=5; b=8; c=9; output;
   run;

   data wk2;
     d=3; e=6; output;
     d=2; e=1; output;
     d=0; e=10; output;
   run;

   %matrix_mult(dataset1=wk1, dataset2=wk2, output_dataset=prod_matrix);

 Notes         :
   - If dimensions do not match, the macro stops with a warning message.

  
---
 
## `%matrix_transpose()` macro <a name="matrixtranspose-macro-6"></a> ######

Macro Name    : %matrix_transpose

 Purpose       :
   Transpose a numeric matrix stored in a SAS dataset using PROC FCMP.
   The macro reads numeric variables into an array, transposes the matrix,
   and writes the result to an output dataset.

 Parameters    :
   dataset=         Input dataset containing numeric variables to be transposed.
   output_dataset=  Output dataset name to store the transposed matrix.
                    Default = WORK.OUTPUT_TRAN

 Requirements / Notes:
   - Only numeric variables are considered; character variables are ignored.
   - The output dataset will contain variables named col1, col2, ..., coln.

 Example Usage:
   data wk1;
     a=3; b=5; output;
     a=0; b=9; output;
     a=1; b=2; output;
   run;

   %matrix_transpose(dataset=wk1, output_dataset=tran_wk1);

  
---
 
  
---
 
# License <a name="license"></a> ######
 
	Copyright (c) [2025]  [Yutaka Morioka]

Permission is hereby granted, free of charge, to any person obtaining a copy   
of this software and associated documentation files (the "Software"), to deal    
in the Software without restriction, including without limitation the rights   
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell   
copies of the Software, and to permit persons to whom the Software is   
furnished to do so, subject to the following conditions:                      
                                                                                
The above copyright notice and this permission notice shall be included       
in all copies or substantial portions of the Software.                        
                                                                                
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR    
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,      
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE   
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER        
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE 
SOFTWARE.
  
---
 
